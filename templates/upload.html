{% extends "layout.html" %}
{% block content %}
<div class="col-md-4">
<h1 class="navbar-brand"> Upload CSV </h1>
<form id="uploadForm" action = "{{url_for('upload')}}" method = "POST"
         enctype = "multipart/form-data">
  <input type = "file" name="file[]" multiple="" style="padding:0px"/>
  <div>
    <h2 class="navbar-brand">Index</h2>
  </div>
  <select class="form-select" form="uploadForm" name="indexChoice" id ="indexChoice" onchange="onChange()">
  <option value="other">other</option>
    {% for index in indices %}
    <option value="{{index}}">{{index}}</option>
    {% endfor %}
  </select>
  <!-- <div style="padding-top:15px">
  <label for="">Update</label>
  <input type="checkbox" id="update" name="update" value="update" style="display: inline-block;">
  </div> -->
  <div style="padding-top:10px" id='other-box'>
    <h3 class="navbar-brand" style="padding-top:10px">if other</h3>
    <input class="form-control" name="index" id="index" />
  </div>
  <div style="padding-top:25px" >
    <input class="btn btn-danger" type = "submit" id="submit" value="Create"/>
  </div>
</form>
</div>
<script type="text/javascript">
  function onChange(){
    var selectItem = document.getElementById('indexChoice');
    if (selectItem.value != "other") {
      document.getElementById('other-box').style.display='none';
      document.getElementById('submit').value='Update';
    } else {
      document.getElementById('other-box').style.display='block';
      document.getElementById('submit').value='Create';
    }
  }
  
</script>
{% endblock content %}
